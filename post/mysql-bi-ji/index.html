<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>MySQL笔记 | Jack-yixi</title>
<meta name="description" content="学习分享
">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://jack-yixi.github.io/favicon.ico?v=1599445538974">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jack-yixi.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://jack-yixi.github.io">
        <img src="https://jack-yixi.github.io/images/avatar.png?v=1599445538974" class="site-logo">
        <h1 class="site-title">Jack-yixi</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      学习分享

    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://jack-yixi.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">MySQL笔记</h2>
            <div class="post-date">2020-04-08</div>
            
              <div class="feature-container" style="background-image: url('https://jack-yixi.github.io/post-images/mysql-bi-ji.jpg')">
              </div>
            
            <div class="post-content">
              <h1 id="一如何使用终端操作数据库">一，如何使用终端操作数据库？</h1>
<h2 id="增删改查">增删改查</h2>
<h3 id="1如何查询数据库服务器中的所有数据库">1，如何查询数据库服务器中的所有数据库？</h3>
<pre><code>	mysql&gt; show databases;
	+--------------------+
	| Database        		   |
	+--------------------+
	| information_schema 	|
	| mysql             		       |
	| performance_schema |
	| test              			       |
	| zt                			        |
	+-----------------------+
	5 rows in set (0.00 sec)
</code></pre>
<h3 id="2如何选中某一个数据库进行操作">2，如何选中某一个数据库进行操作？</h3>
<pre><code>mysql&gt; use test（数据库名字）
Database changed
查询：mysql&gt; select * from admin;
</code></pre>
<h3 id="3如何退出数据库服务器">3，如何退出数据库服务器？</h3>
<pre><code>mysql&gt;exit;
Bye
</code></pre>
<h3 id="4如何在数据库服务器中创建数据库">4,如何在数据库服务器中创建数据库？</h3>
<pre><code>mysql&gt; create database text;
Query OK, 1 row affected (0.00 sec)
</code></pre>
<h3 id="5如何查看某个数据库中的数据表">5，如何查看某个数据库中的数据表？</h3>
<pre><code>mysql&gt;show tables;
ERROR 1046 (3D000): No database selected（一个数据表都没有）
</code></pre>
<h3 id="6如何创建一个数据表">6，如何创建一个数据表？</h3>
<pre><code>		mysql&gt; CREATE TABLE pet (
    -&gt; name VARCHAR(20),
    -&gt; owner VARCHAR(20),
    -&gt; species VARCHAR(20),
    -&gt; sex CHAR(1),
    -&gt; birth DATE,
    -&gt; death DATE);
</code></pre>
<h3 id="7查看是否创建成功">7，查看是否创建成功：</h3>
<pre><code>mysql&gt;show tables;
+--------------+
| Tables_in_zt |
+--------------+
| pet                |
+--------------+
1 row in set (0.00 sec)
</code></pre>
<h3 id="8查看创建好的数据表的结构">8，查看创建好的数据表的结构：</h3>
<pre><code>mysql&gt;describe pet；
+---------+------------------+------+-------+----------+-------+
| Field     | Type             | Null | Key  | Default | Extra |
+---------+------------------+------+-----+---------+-------+
| name    | varchar(20) | YES  |        | NULL    |          |
| owner   | varchar(20) | YES  |        | NULL    |          |
| species | varchar(20) | YES  |        | NULL    |          |
| sex        | char(1)        | YES  |        | NULL    |          |
| birth       | date            | YES  |        | NULL    |          |
| death     | date            | YES  |        | NULL    |          |
+---------+------------------+-------+-------+----------+-------+
6 rows in set (0.08 sec)
</code></pre>
<h3 id="9如何删除一张数据表">9，如何删除一张数据表：</h3>
<pre><code>mysql&gt; drop table wlb;
Query OK, 0 rows affected (0.00 sec)
</code></pre>
<h3 id="10如何查看数据表中的记录">10，如何查看数据表中的记录？</h3>
<pre><code>mysql&gt; select * from pet;
Empty set (0.01 sec)
</code></pre>
<h3 id="11如何往数据库中插入数据记录">11,如何往数据库中插入数据记录？</h3>
<pre><code>（1）mysql&gt; insert into pet
   	 -&gt; values ('puffball','diane','hamster','f','1999-03-30',null);
Query OK, 1 row affected (0.12 sec)
（2）mysql&gt; insert into pet
   -&gt;（name）values(&quot;110&quot;);
*/name为已有的/*
+----------+-------+---------+------+------------+------------+
| name     | owner | species | sex  | birth      | death      |
+----------+-------+---------+------+------------+------------+
| puffball | diane | hamster | f    | 1999-03-30 | NULL       |
|          |       |         |      | 1900-02-23 | 0000-00-00    |
|          |       |         |      | 0000-00-00 | NULL          |
| 110      | NULL  | NULL    | NULL | NULL       | NULL       |
+----------+-------+---------+------+------------+------------+
</code></pre>
<h3 id="12再一次查询">12，再一次查询？</h3>
<pre><code>mysql&gt; select * from pet;
+----------+----------+------------+------+-----------------+-------+
| name     | owner | species  | sex  |        birth       | death |
+----------+----------+------------+------+-----------------+-------+
| puffball | diane    | hamster |    f    | 1999-03-30 | NULL |
+----------+----------+------------+------+------------------+-------+
1 row in set (0.00 sec)
</code></pre>
<h3 id="单一查询">单一查询：</h3>
<pre><code>mysql&gt; select * from pet where name=110；
+------+-------+---------+------+-------+-------+
| name | owner | species | sex  | birth | death |
+------+-------+---------+------+-------+-------+
| 110  | NULL  | NULL    | NULL | NULL  | NULL  |
+------+-------+---------+------+-------+-------+
1 row in set, 1 warning (0.00 sec)
</code></pre>
<h3 id="13如何删除数据记录">13，如何删除数据记录：</h3>
<pre><code>mysql&gt; delete from pet where death=0000-00-00;
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from pet;
+----------+-------+---------+------+------------+-------+
| name     | owner | species | sex  | birth      | death |
+----------+-------+---------+------+------------+-------+
| puffball | diane | hamster | f    | 1999-03-30 | NULL  |
+----------+-------+---------+------+------------+-------+
1 row in set (0.00 sec)
</code></pre>
<h3 id="14如何更改数据记录">14，如何更改数据记录：</h3>
<pre><code>update pet name=ok where name=puffball; 
*/把puffball改为ok/*、
</code></pre>
<h3 id="15mysql常用数据类型">15，MySQL常用数据类型：</h3>
<h4 id="菜鸟教程查询">菜鸟教程查询</h4>
<h3 id="16主键约束">16.主键约束</h3>
<pre><code>mysql&gt;  create table ren(
id int primary key,
name varchar(20)
);
Query OK, 0 rows affected (0.14 sec)
mysql&gt; select * from ren;
+----+------+
| id | name |
+----+------+
|  1 | ???? |
+----+------+
1 row in set (0.00 sec)


mysql&gt; insert into ren values(1,'张三');
ERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'
mysql&gt; insert into ren values(2,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; select * from ren;
+----+------+
| id | name |
+----+------+
|  1 | ???? |
|  2 | ???? |
+----+------+
2 rows in set (0.00 sec)
</code></pre>
<h3 id="联合主键">联合主键</h3>
<pre><code>mysql&gt;  create table ren2(
    -&gt; id int ,
    -&gt; name varchar(20),
    -&gt; primary key(id,name)
    -&gt; );
Query OK, 0 rows affected (0.06 sec)

mysql&gt; insert into ren2 values(1,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into ren2 values(null,'张三');
ERROR 1048 (23000): Column 'id' cannot be null
mysql&gt; insert into ren2 values(1,'张三');
ERROR 1062 (23000): Duplicate entry '1-????' for key 'PRIMARY'
mysql&gt; select * from ren2;
+----+------+
| id | name |
+----+------+
|  1 | ???? |
+----+------+
1 row in set (0.00 sec)
</code></pre>
<h4 id="只要id和那么加起来不相同就可以添加数据">只要id和那么加起来不相同就可以添加数据</h4>
<h3 id="自增主键">自增主键</h3>
<pre><code>create table ren3(id int primary key auto_increment,name varchar(20));
Query OK, 0 rows affected (0.24 sec)

mysql&gt; insert into ren3 (name) values('zhangsan');
Query OK, 1 row affected (0.00 sec)
mysql&gt; select * from ren3;
+----+----------+
| id | name     |
+----+----------+
|  1 | zhangsan |
+----+----------+
1 row in set (0.00 sec)
</code></pre>
<h4 id="会自动给id排列">会自动给id排列</h4>
<h3 id="17唯一约束">17.唯一约束</h3>
<h4 id="约束修饰的字段不可重复">约束修饰的字段不可重复</h4>
<pre><code>1.mysql&gt;create table ren5(
id int,
name varchar(20)
);
mysql&gt; create table ren5(
    -&gt; id int,
    -&gt; name varchar(20)
    -&gt; );
Query OK, 0 rows affected (0.29 sec)
mysql&gt; alter table ren5 add unique(name);
Query OK, 0 rows affected (0.09 sec)
Records: 0  Duplicates: 0  Warnings: 0


2.mysql&gt; create table ren6(
    -&gt; id int,
    -&gt; name varchar(20),
    -&gt; unique (name)
    -&gt; );
Query OK, 0 rows affected (0.09 sec)
</code></pre>
<h3 id="如何删除unique">如何删除unique</h3>
<pre><code>mysql&gt; alter table ren5 drop name;
Query OK, 0 rows affected (0.12 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc ren5;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| id    | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
1 row in set (0.01 sec)
</code></pre>
<h4 id="modify添加unique">modify添加unique？</h4>
<pre><code> mysql&gt; alter table ren7 modify name varchar (20) unique;
Query OK, 0 rows affected (0.11 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc ren7;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(20) | YES  | UNI | NULL    |       |
+-------+-------------+------+-----+---------+-------+
2 rows in set (0.06 sec)
</code></pre>
<h3 id="18非空约束">18.非空约束</h3>
<pre><code>create table ren8(id int,name varchar(20) not null);
Query OK, 0 rows affected (0.38 sec)

mysql&gt; desc ren8;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(20) | NO   |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
2 rows in set (0.20 sec)
</code></pre>
<h3 id="19默认约束">19.默认约束</h3>
<h4 id="当没有出传值的时候会给定默认值传值后不使用默认值">当没有出传值的时候会给定默认值，传值后不使用默认值</h4>
<pre><code>create table ren9(id int,name varchar(20),age int default 10);
Query OK, 0 rows affected (0.10 sec)

mysql&gt; desc ren9;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(20) | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | 10      |       |
+-------+-------------+------+-----+---------+-------+
3 rows in set (0.01 sec)

mysql&gt; insert into ren9 (id,name) values (1,'zhangsan');
Query OK, 1 row affected (0.00 sec)


mysql&gt; select * from ren9;
+------+----------+------+
| id   | name     | age  |
+------+----------+------+
|    1 | zhangsan |   10 |
+------+----------+------+
1 row in set (0.00 sec)


mysql&gt; insert into ren9 (id,name,age) values (2,'lisi',19);
Query OK, 1 row affected (0.00 sec)


mysql&gt; select * from ren9;
+------+----------+------+
| id   | name     | age  |
+------+----------+------+
|    1 | zhangsan |   10 |
|    2 | lisi     |   19 |
+------+----------+------+
2 rows in set (0.00 sec)
</code></pre>
<h3 id="20主键约束">20.主键约束</h3>
<h4 id="1主表classes中没有的数值副表不能使用">1.主表classes中没有的数值，副表不能使用</h4>
<pre><code>mysql&gt; create table classes(id int primary key,name varchar(20));
Query OK, 0 rows affected (0.08 sec)

mysql&gt; create table students(id int primary key,name varchar(20),class_id int,foreign key(class_id) references classes(id));
Query OK, 0 rows affected (0.09 sec)

mysql&gt; insert into classes values(1,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into classes values(2,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into classes values(3,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into classes values(4,'张三');
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into students values(1001,'张三',1);
Query OK, 1 row affected, 2 warnings (0.00 sec)

mysql&gt; insert into students values(1001,'张三',5);
ERROR 1062 (23000): Duplicate entry '1001' for key 'PRIMARY'
mysql&gt;
</code></pre>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://jack-yixi.github.io/post/jian-dan-de-bao-ming-cheng-xu-hou-duan-php-deng-lu-pian">
                  <h3 class="post-title">
                    简单的报名程序(后端)-php——登录篇
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
